import { Puzzle } from '../types/game'

// Pre-generated puzzles with guaranteed unique solutions
// These serve as reliable fallbacks when generation fails
export const PUZZLE_BANK: Puzzle[] = [
  {
    regions: [
      [0, 0, 0, 1, 1, 2, 2, 2, 2],
      [0, 0, 1, 1, 1, 2, 2, 2, 2],
      [0, 3, 3, 1, 4, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 6, 4, 4, 4, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 5, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 5 }, { row: 1, col: 7 }, { row: 2, col: 2 },
      { row: 3, col: 0 }, { row: 4, col: 3 }, { row: 5, col: 6 },
      { row: 6, col: 8 }, { row: 7, col: 1 }, { row: 8, col: 4 }
    ]
  },
  {
    regions: [
      [0, 0, 1, 1, 1, 2, 2, 2, 2],
      [0, 0, 0, 1, 1, 1, 2, 2, 2],
      [0, 0, 3, 3, 1, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 4, 5],
      [3, 3, 6, 6, 4, 4, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 8],
      [6, 6, 7, 7, 7, 7, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 5 }, { row: 1, col: 2 }, { row: 2, col: 7 },
      { row: 3, col: 0 }, { row: 4, col: 4 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 0, 1, 1, 1, 2, 2],
      [0, 0, 0, 1, 1, 1, 2, 2, 2],
      [3, 0, 0, 1, 1, 4, 2, 2, 2],
      [3, 3, 3, 4, 4, 4, 4, 5, 5],
      [3, 3, 3, 4, 4, 4, 5, 5, 5],
      [3, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 7, 8, 8],
      [6, 6, 6, 7, 7, 7, 8, 8, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 6 }, { row: 1, col: 3 }, { row: 2, col: 0 },
      { row: 3, col: 5 }, { row: 4, col: 8 }, { row: 5, col: 2 },
      { row: 6, col: 4 }, { row: 7, col: 7 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 1, 1, 1, 2, 2, 2],
      [0, 0, 1, 1, 1, 2, 2, 2, 2],
      [0, 0, 3, 3, 4, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 3, 6, 4, 4, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 5],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 4 }, { row: 1, col: 7 }, { row: 2, col: 2 },
      { row: 3, col: 0 }, { row: 4, col: 5 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 0, 1, 1, 2, 2, 2],
      [0, 0, 0, 1, 1, 1, 1, 2, 2],
      [0, 3, 3, 3, 1, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 4, 5],
      [3, 3, 6, 6, 4, 4, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 5, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 5 }, { row: 1, col: 2 }, { row: 2, col: 7 },
      { row: 3, col: 0 }, { row: 4, col: 4 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 1, 1, 1, 1, 2, 2, 2],
      [0, 0, 0, 1, 1, 2, 2, 2, 2],
      [0, 0, 3, 3, 4, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 3, 6, 4, 4, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 5, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 4 }, { row: 1, col: 7 }, { row: 2, col: 2 },
      { row: 3, col: 0 }, { row: 4, col: 5 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 1, 1, 1, 2, 2, 2],
      [0, 0, 0, 0, 1, 1, 2, 2, 2],
      [0, 3, 3, 4, 1, 4, 4, 2, 2],
      [3, 3, 3, 4, 4, 4, 4, 5, 5],
      [3, 3, 3, 6, 4, 5, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 4 }, { row: 1, col: 7 }, { row: 2, col: 1 },
      { row: 3, col: 5 }, { row: 4, col: 0 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 2 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 1, 1, 2, 2, 2, 2],
      [0, 0, 0, 1, 1, 1, 2, 2, 2],
      [0, 3, 3, 1, 4, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 6, 4, 4, 5, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 8],
      [6, 6, 7, 7, 7, 7, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 5 }, { row: 1, col: 2 }, { row: 2, col: 7 },
      { row: 3, col: 0 }, { row: 4, col: 4 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 1, 1, 1, 2, 2, 2, 2],
      [0, 0, 0, 1, 1, 2, 2, 2, 2],
      [0, 0, 3, 1, 4, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 3, 6, 4, 4, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 5 }, { row: 1, col: 2 }, { row: 2, col: 7 },
      { row: 3, col: 0 }, { row: 4, col: 4 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 1, 1, 1, 1, 2, 2],
      [0, 0, 0, 1, 1, 2, 2, 2, 2],
      [0, 3, 3, 3, 4, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 6, 4, 4, 4, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 5, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 4 }, { row: 1, col: 7 }, { row: 2, col: 2 },
      { row: 3, col: 0 }, { row: 4, col: 5 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 0, 1, 1, 2, 2, 2],
      [0, 0, 0, 1, 1, 1, 2, 2, 2],
      [3, 3, 0, 1, 1, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 3, 6, 4, 4, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 5 }, { row: 1, col: 2 }, { row: 2, col: 7 },
      { row: 3, col: 0 }, { row: 4, col: 4 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 1, 1, 1, 2, 2, 2],
      [0, 0, 1, 1, 1, 2, 2, 2, 2],
      [0, 0, 3, 3, 4, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 3, 6, 4, 5, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 4 }, { row: 1, col: 7 }, { row: 2, col: 2 },
      { row: 3, col: 0 }, { row: 4, col: 5 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 1, 1, 1, 2, 2, 2, 2],
      [0, 0, 0, 1, 1, 1, 2, 2, 2],
      [0, 0, 3, 3, 1, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 3, 6, 4, 4, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 5 }, { row: 1, col: 2 }, { row: 2, col: 7 },
      { row: 3, col: 0 }, { row: 4, col: 4 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 1, 1, 2, 2, 2, 2],
      [0, 0, 1, 1, 1, 1, 2, 2, 2],
      [0, 3, 3, 1, 4, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 6, 4, 4, 5, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 5 }, { row: 1, col: 2 }, { row: 2, col: 7 },
      { row: 3, col: 0 }, { row: 4, col: 4 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  },
  {
    regions: [
      [0, 0, 0, 0, 1, 1, 1, 2, 2],
      [0, 0, 0, 1, 1, 1, 2, 2, 2],
      [0, 3, 3, 1, 4, 4, 4, 2, 2],
      [3, 3, 3, 3, 4, 4, 4, 5, 5],
      [3, 3, 6, 4, 4, 5, 5, 5, 5],
      [6, 6, 6, 6, 7, 7, 5, 5, 5],
      [6, 6, 6, 7, 7, 7, 7, 8, 8],
      [6, 6, 7, 7, 7, 8, 8, 8, 8],
      [6, 6, 7, 7, 8, 8, 8, 8, 8]
    ],
    solution: [
      { row: 0, col: 5 }, { row: 1, col: 2 }, { row: 2, col: 7 },
      { row: 3, col: 0 }, { row: 4, col: 4 }, { row: 5, col: 6 },
      { row: 6, col: 3 }, { row: 7, col: 8 }, { row: 8, col: 1 }
    ]
  }
]

export function getPuzzleFromBank(index: number): Puzzle {
  return PUZZLE_BANK[Math.abs(index) % PUZZLE_BANK.length]
}

export function getRandomPuzzleFromBank(random: () => number): Puzzle {
  const index = Math.floor(random() * PUZZLE_BANK.length)
  return PUZZLE_BANK[index]
}
